USE heroku_3a5c08c4331bb7e;

CREATE TABLE Person(
	VK_ID	BIGINT PRIMARY KEY,
    Person_ID	INTEGER NOT NULL
);

CREATE TABLE Test(
    Test_ID	INT PRIMARY KEY AUTO_INCREMENT,
    Name	VARCHAR(200) NOT NULL,
    Instruction	TEXT
);

CREATE TABLE Question(
    Question_ID	INT PRIMARY KEY AUTO_INCREMENT,
    Test_ID	INTEGER,
    Description	VARCHAR(5000) NOT NULL,
    Category	VARCHAR(500) NOT NULL,
    FOREIGN KEY (Test_ID)  REFERENCES Test (Test_ID)
);

CREATE TABLE Answer(
    Answer_ID	INT PRIMARY KEY AUTO_INCREMENT,
    Question_ID INTEGER,
    Description	VARCHAR(1000) NOT NULL,
    Value	INTEGER NOT NULL,
    FOREIGN KEY (Question_ID) REFERENCES Question (Question_ID)
);

CREATE TABLE Person_Answer(
    Person_Answer_ID	INT PRIMARY KEY AUTO_INCREMENT,
    VK_ID	BIGINT,
    Answer_ID	INTEGER,
    Reply_Date 	DATETIME,
    FOREIGN KEY (VK_ID)  REFERENCES Person (VK_ID),
    FOREIGN KEY (Answer_ID)  REFERENCES Answer (Answer_ID)
);

CREATE TABLE Result(
    Result_ID	INT PRIMARY KEY AUTO_INCREMENT,
    VK_ID	BIGINT,
    Test_ID	INTEGER,
    Factor	VARCHAR(1000),
    Value	INTEGER NOT NULL,
    FOREIGN KEY (VK_ID)  REFERENCES Person (VK_ID),
    FOREIGN KEY (Test_ID)  REFERENCES Test (Test_ID)
);

CREATE TABLE Post(
    Post_ID	INT PRIMARY KEY AUTO_INCREMENT,
    VK_ID	BIGINT,
    Description	TEXT,
    Photo	VARCHAR(500),
    Likes	INTEGER NOT NULL,
    Views	INTEGER	NOT NULL,
    Reposts	INTEGER	NOT NULL,
    Comments	INTEGER	NOT NULL,
    Reply_Date 	DATETIME,
    FOREIGN KEY (VK_ID)  REFERENCES Person (VK_ID)
);


INSERT INTO Test (name) 
VALUES ('Тест на "Психологическую Защиту"');

INSERT INTO Question (test_id, description, category)
VALUES 
(1, 'Я очень легкий человек и со мной легко ужиться.', 'Отрицание'),
(1, 'Когда я хочу чего-нибудь, я никак не могу дождаться, когда это получу.', 'Регрессия'),
(1, 'Всегда существовал человек, на которого я хотел бы походить.', 'Компенсация'),
(1, 'Люди не считают меня эмоциональным человеком.', 'Рационализация'),
(1, 'Я выхожу из себя, когда смотрю фильм непристойного содержания.', 'Гиперкомпенсация'),
(1, 'Я редко помню свои сны.', 'Вытеснение'),
(1, 'Меня бесят люди, которые всеми вокруг командуют.', 'Проекция'),
(1, 'Иногда у меня появляется желание пробить стену кулаком.', 'Рационализация'),
(1, 'Меня раздражает тот факт, что люди слишком много задаются.', 'Проекция'),
(1, 'В мечтах я всегда в центре внимания.', 'Компенсация'),
(1, 'Я человек, который никогда не плачет.', 'Вытеснение'),
(1, 'Необходимость пользоваться общественным туалетом заставляет меня совершать над собой усилие.', 'Гиперкомпенсация'),
(1, 'Я всегда готов выслушать обе стороны во время спора.', 'Рационализация'),
(1, 'Меня легко вывести из себя.', 'Регрессия'),
(1, 'Когда кто-нибудь толкает меня в толпе, я чувствую, что готов пнуть его.', 'Замещение'),
(1, 'Многое во мне людей восхищает.', 'Отрицание'),
(1, 'Я полагаю, что лучше хорошо обдумать какую-нибудь вещь до конца, чем приходить в ярость.', 'Рационализация'),
(1, 'Я много болею.', 'Регрессия'),
(1, 'У меня плохая память на лица.', 'Вытеснение'),
(1, 'Когда меня отвергают, у меня появляются мысли о самоубийстве.', 'Замещение'),
(1, 'Когда я слышу сальности, я очень смущаюсь.', 'Гиперкомпенсация'),
(1, 'Я всегда вижу светлую сторону вещей.', 'Отрицание'),
(1, 'Я ненавижу злобных людей.', 'Проекция'),
(1, 'Мне трудно избавиться от чего-то, что принадлежит мне.', 'Компенсация'),
(1, 'Я с трудом запоминаю имена.', 'Вытеснение'),
(1, 'У меня склонность к излишней импульсивности.', 'Регрессия'),
(1, 'Люди, которые добиваются своего криком и воплями, вызывают у меня отвращение.', 'Проекция'),
(1, 'Я свободен от предрассудков.', 'Отрицание'),
(1, 'Мне крайне необходимо, чтобы люди говорили о моей сексуальной привлекательности.', 'Компенсация'),
(1, 'Когда я собираюсь в поездку, я планирую каждую деталь заранее.', 'Рационализация'),
(1, 'Иногда мне хочется, чтобы атомная бомба разрушила весь мир.', 'Замещение'),
(1, 'Порнография отвратительна.', 'Гиперкомпенсация'),
(1, 'Когда я чем-нибудь расстроен, я много ем.', 'Регрессия'),
(1, 'Люди мне никогда не надоедают.', 'Отрицание'),
(1, 'Многое из своего детства я не могу вспомнить.', 'Вытеснение'),
(1, 'Когда я собираюсь в отпуск, я обычно беру с собой работу.', 'Рационализация'),
(1, 'В своих фантазиях я совершаю великие поступки.', 'Компенсация'),
(1, 'В большинстве своем люди раздражают меня, так как они слишком эгоистичны.', 'Проекция'),
(1, 'Прикосновение к чему-то осклизлому, скользкому вызывает у меня отвращение.', 'Гиперкомпенсация'),
(1, 'Если кто-нибудь надоедает мне, я не говорю это ему, а стремлюсь выразить свое недовольство кому-нибудь другому.', 'Замещение'),
(1, 'Я полагаю, что люди обведут вас вокруг пальца, если вы не будете осторожны.', 'Проекция'),
(1, 'Мне требуется много времени, чтобы разглядеть плохие качества в других людях.', 'Отрицание'),
(1, 'Я никогда не волнуюсь, когда читаю или слышу о какой-то трагедии.', 'Вытеснение'),
(1, 'В споре я обычно более логичен, чем другой человек.', 'Рационализация'),
(1, 'Мне совершенно необходимо, чтобы мне говорили комплименты.', 'Компенсация'),
(1, 'Беспорядочность отвратительна.', 'Гиперкомпенсация'),
(1, 'Когда я веду машину, у меня иногда появляется желание толкнуть другую машину.', 'Замещение'),
(1, 'Когда у меня что-нибудь не получается, я иногда сержусь.', 'Регрессия'),
(1, 'Когда я вижу кого-нибудь в крови, это почти никогда не беспокоит меня.', 'Вытеснение'),
(1, 'У меня портится настроение, и я раздражаюсь, когда на меня не обращают внимания.', 'Регрессия'),
(1, 'Люди говорят мне, что я всему верю.', 'Отрицание'),
(1, 'Я ношу одежду, которая скрывает мои недостатки.', 'Компенсация'),
(1, 'Мне очень трудно пользоваться неприличными словами.', 'Гиперкомпенсация'),
(1, 'Мне кажется, я много спорю с людьми.', 'Замещение'),
(1, 'Меня отталкивает от людей то, что они неискренни.', 'Проекция'),
(1, 'Люди говорят мне, что я слишком беспристрастен во всем.', 'Рационализация'),
(1, 'Я знаю, что мои моральные стандарты выше, чем у большинства других людей.', 'Гиперкомпенсация'),
(1, 'Когда я не могу справиться с чем-либо, я могу заплакать.', 'Регрессия'),
(1, 'Мне кажется, что я не могу выражать свои эмоции.', 'Вытеснение'),
(1, 'Когда кто-нибудь налетает на меня, я прихожу в ярость.', 'Замещение'),
(1, 'То, что мне не нравится, я выбрасываю из головы.', 'Отрицание'),
(1, 'Я очень редко испытываю чувство привязанности.', 'Рационализация'),
(1, 'Я терпеть не могу людей, которые всегда стараются быть в центре внимания.', 'Проекция'),
(1, 'Я многое коллекционирую.', 'Компенсация'),
(1, 'Я работаю более упорно, чем большинство людей, для того чтобы добиться результатов в области, которая меня интересует.', 'Компенсация'),
(1, 'Звуки детского плача не беспокоят меня.', 'Вытеснение'),
(1, 'Я бываю так сердит, что мне хочется крушить все вокруг.', 'Замещение'),
(1, 'Я всегда оптимистичен.', 'Отрицание'),
(1, 'Я много лгу.', 'Регрессия'),
(1, 'Я больше привязан к самому процессу работы, чем к отношениям, которые складываются на ней или вне ее.', 'Рационализация'),
(1, 'В основном люди несносны.', 'Проекция'),
(1, 'Я бы ни за что не пошел на фильм, в котором слишком много сексуальных сцен.', 'Гиперкомпенсация'),
(1, 'Меня раздражает то, что людям нельзя доверять.', 'Проекция'),
(1, 'Я буду делать все, чтобы произвести хорошее впечатление.', 'Компенсация'),
(1, 'Я не понимаю некоторых своих поступков.', 'Вытеснение'),
(1, 'Я через силу смотрю кинокартины, в которых много насилия.', 'Замещение'),
(1, 'Я думаю, что ситуация в мире намного лучше, чем думает большинство людей.', 'Отрицание'),
(1, 'Когда у меня неудача, я не могу сдержать плохого настроения.', 'Регрессия'),
(1, 'То, как одеваются сейчас на пляже, — неприлично.', 'Гиперкомпенсация'),
(1, 'Я не позволяю своим эмоциям захватывать меня.', 'Рационализация'),
(1, 'Я всегда планирую наихудшее с тем, чтобы не быть застигнутым врасплох.', 'Рационализация'),
(1, 'Я живу так хорошо, что многие люди хотели бы оказаться в моем положении.', 'Отрицание'),
(1, 'Когда я как-то был сердит, я так сильно саданул по чему-то, что случайно поранил себя.', 'Замещение'),
(1, 'Я испытываю отвращение, сталкиваясь с людьми низкого морального уровня.', 'Проекция'),
(1, 'Я почти ничего не помню о своих первых годах в школе.', 'Вытеснение'),
(1, 'Когда я расстроен, я невольно поступаю как ребенок.', 'Регрессия'),
(1, 'Я предпочитаю говорить о своих мыслях, чем о своих чувствах.', 'Рационализация'),
(1, 'Мне кажется, что не могу закончить ничего из того, что начал.', 'Регрессия'),
(1, 'Когда я слышу о жестокости, это не трогает меня.', 'Вытеснение'),
(1, 'В моей семье почти никогда не противоречат друг другу.', 'Отрицание'),
(1, 'Я много кричу на людей.', 'Замещение'),
(1, 'Ненавижу людей, которые топчут других, чтобы продвинуться вперед.', 'Проекция'),
(1, 'Когда я расстроен, я часто напиваюсь.', 'Регрессия'),
(1, 'Я счастлив, что у меня меньше проблем, чем у большинства людей.', 'Отрицание'),
(1, 'Когда что-нибудь расстраивает меня, я сплю больше, чем обычно.', 'Регрессия'),
(1, 'Я нахожу отвратительным, что большинство людей лгут для того, чтобы добиться успеха.', 'Проекция'),
(1, 'Я говорю много неприличных слов.', 'Замещение');

INSERT INTO Answer (question_id, description, value) VALUES
(1, 'Да', 1),
(1, 'Нет', 0),
(11, 'Да', 1),
(11, 'Нет', 0),
(21, 'Да', 1),
(21, 'Нет', 0),
(31, 'Да', 1),
(31, 'Нет', 0),
(41, 'Да', 1),
(41, 'Нет', 0),
(51, 'Да', 1),
(51, 'Нет', 0),
(61, 'Да', 1),
(61, 'Нет', 0),
(71, 'Да', 1),
(71, 'Нет', 0),
(81, 'Да', 1),
(81, 'Нет', 0),
(91, 'Да', 1),
(91, 'Нет', 0),
(101, 'Да', 1),
(101, 'Нет', 0),
(111, 'Да', 1),
(111, 'Нет', 0),
(121, 'Да', 1),
(121, 'Нет', 0),
(131, 'Да', 1),
(131, 'Нет', 0),
(141, 'Да', 1),
(141, 'Нет', 0),
(151, 'Да', 1),
(151, 'Нет', 0),
(161, 'Да', 1),
(161, 'Нет', 0),
(171, 'Да', 1),
(171, 'Нет', 0),
(181, 'Да', 1),
(181, 'Нет', 0),
(191, 'Да', 1),
(191, 'Нет', 0),
(201, 'Да', 1),
(201, 'Нет', 0),
(211, 'Да', 1),
(211, 'Нет', 0),
(221, 'Да', 1),
(221, 'Нет', 0),
(231, 'Да', 1),
(231, 'Нет', 0),
(241, 'Да', 1),
(241, 'Нет', 0),
(251, 'Да', 1),
(251, 'Нет', 0),
(261, 'Да', 1),
(261, 'Нет', 0),
(271, 'Да', 1),
(271, 'Нет', 0),
(281, 'Да', 1),
(281, 'Нет', 0),
(291, 'Да', 1),
(291, 'Нет', 0),
(301, 'Да', 1),
(301, 'Нет', 0),
(311, 'Да', 1),
(311, 'Нет', 0),
(321, 'Да', 1),
(321, 'Нет', 0),
(331, 'Да', 1),
(331, 'Нет', 0),
(341, 'Да', 1),
(341, 'Нет', 0),
(351, 'Да', 1),
(351, 'Нет', 0),
(361, 'Да', 1),
(361, 'Нет', 0),
(371, 'Да', 1),
(371, 'Нет', 0),
(381, 'Да', 1),
(381, 'Нет', 0),
(391, 'Да', 1),
(391, 'Нет', 0),
(401, 'Да', 1),
(401, 'Нет', 0),
(411, 'Да', 1),
(411, 'Нет', 0),
(421, 'Да', 1),
(421, 'Нет', 0),
(431, 'Да', 1),
(431, 'Нет', 0),
(441, 'Да', 1),
(441, 'Нет', 0),
(451, 'Да', 1),
(451, 'Нет', 0),
(461, 'Да', 1),
(461, 'Нет', 0),
(471, 'Да', 1),
(471, 'Нет', 0),
(481, 'Да', 1),
(481, 'Нет', 0),
(491, 'Да', 1),
(491, 'Нет', 0),
(501, 'Да', 1),
(501, 'Нет', 0),
(511, 'Да', 1),
(511, 'Нет', 0),
(521, 'Да', 1),
(521, 'Нет', 0),
(531, 'Да', 1),
(531, 'Нет', 0),
(541, 'Да', 1),
(541, 'Нет', 0),
(551, 'Да', 1),
(551, 'Нет', 0),
(561, 'Да', 1),
(561, 'Нет', 0),
(571, 'Да', 1),
(571, 'Нет', 0),
(581, 'Да', 1),
(581, 'Нет', 0),
(591, 'Да', 1),
(591, 'Нет', 0),
(601, 'Да', 1),
(601, 'Нет', 0),
(611, 'Да', 1),
(611, 'Нет', 0),
(621, 'Да', 1),
(621, 'Нет', 0),
(631, 'Да', 1),
(631, 'Нет', 0),
(641, 'Да', 1),
(641, 'Нет', 0),
(651, 'Да', 1),
(651, 'Нет', 0),
(661, 'Да', 1),
(661, 'Нет', 0),
(671, 'Да', 1),
(671, 'Нет', 0),
(681, 'Да', 1),
(681, 'Нет', 0),
(691, 'Да', 1),
(691, 'Нет', 0),
(701, 'Да', 1),
(701, 'Нет', 0),
(711, 'Да', 1),
(711, 'Нет', 0),
(721, 'Да', 1),
(721, 'Нет', 0),
(731, 'Да', 1),
(731, 'Нет', 0),
(741, 'Да', 1),
(741, 'Нет', 0),
(751, 'Да', 1),
(751, 'Нет', 0),
(761, 'Да', 1),
(761, 'Нет', 0),
(771, 'Да', 1),
(771, 'Нет', 0),
(781, 'Да', 1),
(781, 'Нет', 0),
(791, 'Да', 1),
(791, 'Нет', 0),
(801, 'Да', 1),
(801, 'Нет', 0),
(811, 'Да', 1),
(811, 'Нет', 0),
(821, 'Да', 1),
(821, 'Нет', 0),
(831, 'Да', 1),
(831, 'Нет', 0),
(841, 'Да', 1),
(841, 'Нет', 0),
(851, 'Да', 1),
(851, 'Нет', 0),
(861, 'Да', 1),
(861, 'Нет', 0),
(871, 'Да', 1),
(871, 'Нет', 0),
(881, 'Да', 1),
(881, 'Нет', 0),
(891, 'Да', 1),
(891, 'Нет', 0),
(901, 'Да', 1),
(901, 'Нет', 0),
(911, 'Да', 1),
(911, 'Нет', 0),
(921, 'Да', 1),
(921, 'Нет', 0),
(931, 'Да', 1),
(931, 'Нет', 0),
(941, 'Да', 1),
(941, 'Нет', 0),
(951, 'Да', 1),
(951, 'Нет', 0),
(961, 'Да', 1),
(961, 'Нет', 0);

-- DROP TABLE Post;
-- DROP TABLE Result;
-- DROP TABLE Person_Answer;
-- DROP TABLE Answer;
-- DROP TABLE Question;
-- DROP TABLE Test;
-- DROP TABLE Person;
